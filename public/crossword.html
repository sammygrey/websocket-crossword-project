<!DOCTYPE html>
<html>
  <head>
    <link rel="stylesheet" href="/public/crossword.css" />

    <p id="Header">CLASH WORD</p>
    <h3></h3>

    <script src="socket.io/socket.io.js"></script>
    <script src="/sockets/crossword.js"></script>
  </head>
  <body>
    <div class="container">
      <input type="text" class="cell" id="1" minlength="1" maxlength="1" />
      <input type="text" class="cell" id="2" minlength="1" maxlength="1" />
      <input type="text" class="cell" id="3" minlength="1" maxlength="1" />
      <input type="text" class="cell" id="4" minlength="1" maxlength="1" />
      <input type="text" class="cell" id="5" minlength="1" maxlength="1" />
      <div class="cell-blank" id="6"></div>
      <input type="text" class="cell" id="7" minlength="1" maxlength="1" />
      <input type="text" class="cell" id="8" minlength="1" maxlength="1" />
      <input type="text" class="cell" id="9" minlength="1" maxlength="1" />
      <input type="text" class="cell" id="10" minlength="1" maxlength="1" />
      <div class="cell-blank" id="11"></div>
      <input type="text" class="cell" id="12" minlength="1" maxlength="1" />
      <input type="text" class="cell" id="13" minlength="1" maxlength="1" />
      <input type="text" class="cell" id="14" minlength="1" maxlength="1" />
      <input type="text" class="cell" id="15" minlength="1" maxlength="1" />
      <input type="text" class="cell" id="16" minlength="1" maxlength="1" />
      <input type="text" class="cell" id="16" minlength="1" maxlength="1" />
    </div>
    <script src="/socket.io/socket.io.js"></script>
    <script>
      var socket = io();

      document.querySelectorAll(".cell").forEach((cell) => {
        cell.addEventListener("input", (event) => {
          cell.value = cell.value.replace(/[^a-zA-Z]/, "");
          let data = {};
          data[cell.id] = cell.value;
          if (cell.value !== "") {
            socket.emit("cell change", data);
          }
        });
      });

      socket.on("cell change", function (data) {
        cell = document.getElementById(Object.keys(data)[0]);
        console.log(cell.value);
        cell.innerHTML = Object.values(data)[0];
      });
    </script>
  </body>
</html>
